import{A as H,r as v,a as U,w as T,u as n,B as d,C as _,D as f,j as p,E as h,F as b,G as I,x as R,H as y,I as O,J as q,K as V,L as r,M as B,N as E,c as $,O as D,P as M,T as ne,Q as le,R as se,o as G,S as re,U as j,V as ie,e as Q,W as ce,X as ue,y as de,Y as pe}from"./vue-vendor.7UYJ6OAp.js";import{V as fe}from"./vconsole.CQ_a14AQ.js";import{S as me,a as he,N as _e,I as ve,b as ge,c as ye,A as we,s as C,L as ke,P as xe,E as F,B as be,W as Se,C as $e,G as Ie,d as Ce,D as K,e as Ve,f as x,g as S,h as X,F as Y,i as Fe,T as Te,j as P}from"./vant-ui.DE2dyczV.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();function Le(e,t){if(typeof t!="function")throw new Error("defaultValue must be a function");return console.debug(`loadLocalStorage==> ${e}`),localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t()}async function N(e){if(typeof e!="string")throw new Error("key must be a string");const t={"food-data":"food-data.json","food-class":"food-class.json","food-types":"food-types.json",notice:"notice.json"};if(!t[e])throw new Error(`key ${e} not found in dataMap`);if(e!="notice"&&localStorage.getItem(e))try{const s=JSON.parse(localStorage.getItem(e));return console.log(`getData==> key:'${e}'  from==> localStorage`),s}catch(s){console.error("Failed to parse cached data:",s)}const o=await fetch(`./data/${t[e]}`);return console.log(`getData==> key:'${e}'  from==> fetch`),o.json()}const g=H("appStore",()=>{const e=[{text:"钾",alias:"k",unit:"毫克",value:0},{text:"磷",alias:"p",unit:"毫克",value:1}],t=v(""),o=v("食物钾磷含量查询"),s=U(e);N("food-types").then(c=>{Object.assign(s,c),localStorage.setItem("food-types",JSON.stringify(c))});const a=U(Le("sortInfo",()=>({type:!0,value:0}))),l=v([]);N("food-data").then(c=>{l.value=c,localStorage.setItem("food-data",JSON.stringify(c))});const i=v({});N("food-class").then(c=>{i.value=c,localStorage.setItem("food-class",JSON.stringify(c))});const u=v(["当前处于开发调试中...."]);return N("notice").then(c=>{u.value=c==null?void 0:c.msg}),T(()=>o.value,c=>{document.title=`食物钾磷含量查询 - ${c}`},{immediate:!0}),T(()=>a,c=>{localStorage.setItem("sortInfo",JSON.stringify(c))},{deep:!0}),{keyword:t,foods:l,title:o,sortTypes:s,sortInfo:a,title:o,notice:u,foodClass:i}}),w=(e,t)=>{const o=e.__vccOpts||e;for(const[s,a]of t)o[s]=a;return o},Re={__name:"headerNoticeBar",setup(e){const t=g();return(o,s)=>n(t).notice.length>0?(d(),_(n(_e),{key:0,mode:"closeable","left-icon":"volume-o",scrollable:!1},{default:f(()=>[p(n(me),{vertical:"",class:"notice-swipe",autoplay:5e3,touchable:!1,"show-indicators":!1},{default:f(()=>[(d(!0),h(b,null,I(n(t).notice,a=>(d(),_(n(he),{key:a},{default:f(()=>[R(y(a),1)]),_:2},1024))),128))]),_:1})]),_:1})):O("",!0)}},Ne=w(Re,[["__scopeId","data-v-deb3f4f4"]]),Oe={__name:"appHeader",props:{title:String},setup(e){const t=g(),o=q();V();const s=()=>{if(!t.keyword.trim().length){C("请输入食物关键字再搜索");return}if(t.keyword.toLowerCase()==="debug"){window.$vc.show();return}if(t.keyword.toLowerCase()==="typeedit"){o.push({name:"typeEdit"});return}o.push({name:"query",query:{keyword:t.keyword}})},a=v(!1),l=[{name:"高钾食物排行榜",icon:"warning-o",query:{index:0,sort:"true"}},{name:"高磷食物排行榜",icon:"warning-o",query:{index:1,sort:"true"}},{name:"低钾食物排行榜",icon:"passed",query:{index:0,sort:"false"}},{name:"低磷食物排行榜",icon:"passed",query:{index:1,sort:"false"}}],i=c=>{o.push({name:"order",query:c.query})},u=()=>{window.history.state.back?o.back():o.replace({name:"home"})};return(c,m)=>(d(),h(b,null,[r("header",null,[p(n(ge),{title:e.title,"left-text":"返回","left-arrow":"",onClickLeft:m[0]||(m[0]=k=>u()),onClickRight:m[1]||(m[1]=k=>a.value=!0)},{right:f(()=>[p(n(ve),{name:"weapp-nav",size:"36"})]),_:1},8,["title"]),p(Ne),p(n(ye),{modelValue:n(t).keyword,"onUpdate:modelValue":m[2]||(m[2]=k=>n(t).keyword=k),onSearch:s,placeholder:"请输入欲查询食物的关键字","input-align":"center"},null,8,["modelValue"])]),p(n(we),{title:"钾磷含量 - Top100",closeable:!1,onSelect:i,show:a.value,"onUpdate:show":m[3]||(m[3]=k=>a.value=k),"close-on-click-action":"","cancel-text":"取消",actions:l,teleport:"body"},null,8,["show"])],64))}},Be=w(Oe,[["__scopeId","data-v-2b1dd3fc"]]),Ee={__name:"appLoading",setup(e){return(t,o)=>(d(),_(n(xe),{round:"",class:"loading-contai"},{default:f(()=>[p(n(ke),{vertical:"",style:{margin:"24px"}},{default:f(()=>[R(" 食物数据加载中,请稍候... ")]),_:1})]),_:1}))}},Me=w(Ee,[["__scopeId","data-v-c8e27394"]]),Z=e=>(B("data-v-dec6c20e"),e=e(),E(),e),Ue=Z(()=>r("div",{class:"wechat_logo"},[r("svg",{t:"1725432177815",class:"icon",viewBox:"0 0 1284 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8993",width:"128",height:"128"},[r("path",{d:"M558.755355 679.972943c0 165.086809 162.777903 299.003382 362.498309 299.003382 48.487035 0 95.819617-8.081172 137.379932-21.934611 11.544532 5.772266 94.665163 77.348365 113.136415 64.64938 12.698985-10.390079-30.015784-87.738444-33.479143-101.591883 87.738444-54.259301 145.461105-141.997745 145.461105-240.126268 0-165.086809-162.777903-299.003382-362.498309-299.003383S558.755355 514.886133 558.755355 679.972943z m438.692221-105.055243c0-28.86133 23.089064-51.950395 51.950395-51.950394s51.950395 23.089064 51.950394 51.950394-23.089064 51.950395-51.950394 51.950395-51.950395-23.089064-51.950395-51.950395z m-255.13416 0c0-28.86133 23.089064-51.950395 51.950395-51.950394s51.950395 23.089064 51.950394 51.950394-23.089064 51.950395-51.950394 51.950395-51.950395-23.089064-51.950395-51.950395z","p-id":"8994",fill:"#e6e6e6"}),r("path",{d:"M526.430665 677.664036c0-180.094701 177.785795-325.555806 395.977452-325.555806 11.544532 0 23.089064 0 33.479143 1.154453C931.643743 154.696731 727.305524 0 479.098083 0 214.728298 0 0 176.631342 0 394.822999c0 129.29876 76.193912 244.744081 192.793687 316.32018-4.617813 17.316798-60.031567 120.063134-43.869223 133.916573 24.243517 16.162345 133.916573-78.502818 148.924465-85.429538 55.413754 18.471251 116.599775 28.86133 181.249154 28.861331 23.089064 0 46.178129-1.154453 69.267193-4.617813-13.853439-32.32469-21.934611-68.11274-21.934611-106.209696zM646.493799 184.712514c38.096956 0 69.267193 31.170237 69.267193 69.267193 1.154453 38.096956-30.015784 69.267193-69.267193 69.267193-38.096956 0-69.267193-31.170237-69.267192-69.267193s31.170237-69.267193 69.267192-69.267193zM310.547914 323.2469c-38.096956 0-69.267193-31.170237-69.267192-69.267193s31.170237-69.267193 69.267192-69.267193 69.267193 31.170237 69.267193 69.267193-31.170237 69.267193-69.267193 69.267193z","p-id":"8995",fill:"#7ed143"})])],-1)),qe=Z(()=>r("h3",null,"请使用微信客户端打开",-1)),je={__name:"NoWechat",setup(e){return v(0),v(sessionStorage.getItem("backdoor")||!1),(t,o)=>(d(),h("div",{class:"no_wechat",onClick:o[0]||(o[0]=(...s)=>t.reset&&t.reset(...s))},[p(n(F),null,{image:f(()=>[Ue]),description:f(()=>[qe]),_:1}),O("",!0)]))}},ze=w(je,[["__scopeId","data-v-dec6c20e"]]),ee=H("themeStrore",()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem("theme")==="dark"||e.matches,o=v(t?"dark":"light"),s=()=>{o.value=o.value==="dark"?"light":"dark",localStorage.setItem("theme",o.value),window.$vc.setOption("theme",o.value)};return e.addEventListener("change",a=>{o.value=a.matches?"dark":"light"}),{theme:o,toggleTheme:s}}),Ae={__name:"appFooter",setup(e){const t=ee(),o=q(),s=V();$(()=>s.name=="about"&&!1||s.query.debug);const a=()=>{o.push("/about")},l=()=>{o.push("/")};return(i,u)=>(d(),h("footer",null,[r("ul",null,[r("li",{class:D({disabled:n(s).path=="/"})},[r("a",{onClick:M(l,["prevent"])},"首页")],2),r("li",null,[r("a",{onClick:u[0]||(u[0]=M((...c)=>n(t).toggleTheme&&n(t).toggleTheme(...c),["prevent"]))},"主题")]),r("li",{class:D({disabled:n(s).path=="/about"})},[r("a",{onClick:M(a,["prevent"])},"关于")],2)])]))}},De=w(Ae,[["__scopeId","data-v-1111dd0e"]]),Ke={id:"client"},Pe={class:"watermark"},We={__name:"App",setup(e){const t=ee(),o=g(),s=v(localStorage.getItem("wechat_fake")==!0||!1),a=v("雨落无声");typeof WeixinJSBridge!="object"?document.addEventListener("WeixinJSBridgeReady",()=>{typeof WeixinJSBridge=="object"&&l()},!1):l();function l(){s.value=!0}return(i,u)=>{const c=se("router-view");return s.value?(d(),_(n($e),{key:1,theme:n(t).theme,class:"container"},{default:f(()=>[p(Be,{title:n(o).title},null,8,["title"]),r("article",Ke,[p(c,null,{default:f(({Component:m})=>[p(ne,{name:"fade",mode:"out-in"},{default:f(()=>[(d(),_(le(m)))]),_:2},1024)]),_:1}),p(n(be),{target:"#client"})]),p(De),p(Me,{show:n(o).foods.length===0},null,8,["show"]),p(n(Se),{width:200,rotate:-18,"gap-x":50,"gap-y":100,opacity:.04},{content:f(()=>[r("div",Pe,y(a.value),1)]),_:1})]),_:1},8,["theme"])):(d(),_(ze,{key:0}))}}},Je=w(We,[["__scopeId","data-v-ae731aa3"]]),He={__name:"defaultView",setup(e){const t=g();return t.title="首页分类",G(()=>{console.log(t.foodClass)}),(o,s)=>Object.keys(n(t).foodClass).length===0?(d(),_(n(F),{key:0,description:"客户端更新,请刷新页面"})):(d(),_(n(Ie),{key:1,gutter:"10",clickable:"",style:{"margin-top":"10px"}},{default:f(()=>[(d(!0),h(b,null,I(Object.keys(n(t).foodClass),a=>(d(),_(n(Ce),{to:{name:"class",query:{type:a}},icon:"cluster",text:a},null,8,["to","text"]))),256))]),_:1}))}},te={__name:"appFoodSort",props:{disabled:Boolean},setup(e){const t=g(),o=[{text:"从低到高",value:!0},{text:"从高到低",value:!1}];return(s,a)=>(d(),_(n(Ve),null,{default:f(()=>[p(n(K),{modelValue:n(t).sortInfo.value,"onUpdate:modelValue":a[0]||(a[0]=l=>n(t).sortInfo.value=l),options:n(t).sortTypes},null,8,["modelValue","options"]),p(n(K),{disabled:e.disabled,modelValue:n(t).sortInfo.type,"onUpdate:modelValue":a[1]||(a[1]=l=>n(t).sortInfo.type=l),options:o},null,8,["disabled","modelValue"])]),_:1}))}},Ge={class:"highlight-text"},Qe={key:0},Xe={key:1},Ye={__name:"appHighLight",props:{text:{type:String,default:""},keyword:{type:String,default:""},highlightColor:{type:String,default:"inherit"},highlightTextColor:{type:String,default:"var(--van-primary-color)"}},setup(e){const t=e,o=$(()=>{if(!t.keyword.trim())return[{text:t.text,match:!1}];const a=new RegExp(t.keyword.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),l=[...t.text.matchAll(a)];if(l.length===0)return[{text:t.text,match:!1}];const i=[];let u=0;return l.forEach(c=>{c.index>u&&i.push({text:t.text.substring(u,c.index),match:!1}),i.push({text:c[0],match:!0}),u=c.index+c[0].length}),u<t.text.length&&i.push({text:t.text.substring(u),match:!1}),i}),s=$(()=>({backgroundColor:t.highlightColor,color:t.highlightTextColor,padding:"0px",borderRadius:"0px"}));return(a,l)=>(d(),h("div",Ge,[o.value.length>0?(d(),h("div",Qe,[(d(!0),h(b,null,I(o.value,(i,u)=>(d(),h("span",{key:u,style:re(i.match?s.value:{})},y(i.text),5))),128))])):(d(),h("div",Xe,y(e.text),1))]))}},W=w(Ye,[["__scopeId","data-v-59dfa670"]]),Ze={class:"value"},et={style:{"margin-left":"4px"}},tt={__name:"appFoodOrders",props:{foods:Array,sorts:{type:Object,default:{value:0,type:!0}},keyword:{type:String,default:"."}},setup(e){const t=g(),{sortTypes:o}=j(t);return(s,a)=>(d(),_(n(x),{class:"order-list",inset:""},{default:f(()=>[(d(!0),h(b,null,I(e.foods,(l,i)=>(d(),_(n(S),{class:"van-haptics-feedback","is-link":"",to:`/food/${l.id}`,key:l.id},ie({title:f(()=>[p(W,{keyword:e.keyword,text:`${i+1}.${l.name}`},null,8,["keyword","text"])]),value:f(()=>[r("div",Ze,[r("span",null,y(l[n(o)[e.sorts.value].alias]),1),r("span",et,y(n(o)[e.sorts.value].unit),1)])]),_:2},[l.alias!==null?{name:"label",fn:f(()=>[p(W,{keyword:e.keyword,text:l.alias},null,8,["keyword","text"])]),key:"0"}:void 0]),1032,["to"]))),128))]),_:1}))}},z=w(tt,[["__scopeId","data-v-d1d1a91a"]]),ot=""+new URL("custom-empty-image-Dz-_rXnk.png",import.meta.url).href,at={key:0},nt={__name:"queryView",setup(e){const t=g(),o=V();j(t),T(()=>o.query.keyword,a=>{t.keyword=a||""},{immediate:!0}),G(()=>{t.keyword=""});const s=$(()=>{if(o.query.keyword){t.title=`搜索 - ${o.query.keyword}`;const a=t.foods.filter(({name:l,alias:i})=>l.includes(o.query.keyword)||i&&i.includes(o.query.keyword));if(a.length>2){const l=t.sortTypes[t.sortInfo.value].alias;return a.sort((i,u)=>t.sortInfo.type?i[l]-u[l]:u[l]-i[l])}else return a}return[]});return(a,l)=>s.value.length?(d(),h("div",at,[p(te,{disabled:s.value.length<3,style:{position:"sticky",top:"0px","z-index":"2000"}},null,8,["disabled"]),p(z,{keyword:n(t).keyword,sorts:n(t).sortInfo,foods:s.value},null,8,["keyword","sorts","foods"])])):(d(),_(n(F),{key:1,"image-size":"90",image:n(ot),description:`没有搜索到'${n(o).query.keyword||"null"}'食物`},null,8,["image","description"]))}},lt={__name:"orderView",setup(e){const t=g(),o=V(),{sortTypes:s}=j(t),a=v({}),l=v("");t.keyword="";const i=$(()=>"type"in a.value&&"value"in a.value);T(()=>o.query,c=>{"index"in c&&"sort"in c&&(+c.index>=0&&+c.index<t.sortTypes.length&&(a.value.value=+c.index,t.title=`${c.sort==="true"?"高":"低"}${t.sortTypes[+c.index].text}食物 - Top100`),a.value.type=c.sort==="true"||c.sort==="1")},{immediate:!0});const u=$(()=>{if(i.value)return l.value=s.value[a.value.value].alias,t.foods.sort((c,m)=>a.value.type?m[l.value]-c[l.value]:c[l.value]-m[l.value]).filter(c=>c[l.value]).slice(0,100)});return(c,m)=>i.value&&u.value.length?(d(),_(z,{key:0,sorts:a.value,foods:u.value},null,8,["sorts","foods"])):(d(),_(n(F),{key:1,description:"查询参数错误"}))}},st={__name:"notFoundView",setup(e){const t=g();return t.title="找不到该页面",(o,s)=>(d(),_(n(F),{image:"error",description:"404 not found"}))}},rt={key:0},it={__name:"classView",setup(e){const t=V(),o=q(),s=g(),a=v([]);T(()=>t.query.type,i=>{if(typeof s.foodClass!="object"){o.push({name:"404"});return}i in s.foodClass?(a.value=s.foodClass[i],s.title="分类 - "+i):(s.title="Error",a.value=[])},{immediate:!0});const l=$(()=>{if(a.value.length){const i=s.foods.filter(u=>a.value.includes(u.id));if(i.length>2){const u=s.sortTypes[s.sortInfo.value].alias;return i.sort((c,m)=>s.sortInfo.type?c[u]-m[u]:m[u]-c[u])}else return i}return[]});return(i,u)=>a.value.length?(d(),h("div",rt,[p(te,{disabled:l.value.length<3,style:{position:"sticky",top:"0px","z-index":"2000"}},null,8,["disabled"]),p(z,{foods:l.value,sorts:n(s).sortInfo},null,8,["foods","sorts"])])):(d(),_(n(F),{key:1,description:"分类错误"}))}};function ct(e){const t=[3,5,9,6,10,12];let o=0;for(let s=0;s<e.length&&!(e[s].value>0&&(o+=e[s].flag,t.includes(o)));s++);if(!t.includes(o))return C("最少需要输入两个项目或输入值无效"),!1;if(o===3&&e[0].value<e[1].value)return C("医保消费金额不能小于统筹支付金额"),!1;if(o===5&&e[0].value<e[2].value)return C("医保消费金额不能小于个人支付金额"),!1;if(o&8&&e[3].value<0||e[3].value>100)return C("报销比例应在0-100之间"),!1;if(o===12&&e[3].value===100)return C("报销比例不能为100%"),!1;switch(o){case 3:e[2].value=(e[0].value-e[1].value).toFixed(2),e[3].value=(100-e[2].value/e[0].value*100).toFixed(2);break;case 5:e[1].value=(e[0].value-e[2].value).toFixed(2),e[3].value=(100-e[2].value/e[0].value*100).toFixed(2);break;case 9:e[1].value=(e[3].value/100*e[0].value).toFixed(2),e[2].value=(e[0].value-e[1].value).toFixed(2);break;case 6:e[0].value=(e[1].value+e[2].value).toFixed(2),e[3].value=(100-e[2].value/e[0].value*100).toFixed(2);break;case 10:e[0].value=(e[1].value/(e[3].value/100)).toFixed(2),e[2].value=(e[0].value-e[1].value).toFixed(2);break;case 12:e[0].value=(e[2].value/(1-e[3].value/100)).toFixed(2),e[1].value=(e[0].value-e[2].value).toFixed(2);break}return!0}const ut=e=>(B("data-v-49517c64"),e=e(),E(),e),dt=ut(()=>r("ul",{class:"van-cell",style:{"list-style-type":"decimal"}},[r("li",null,"用于计算医保报销比例,输入其中任意两种数值即可计算出结果.")],-1)),pt={__name:"insuranceCalcView",setup(e){const t=g();V(),Q(()=>{t.title="医保报销计算器"});const o=v([{name:"医保消费金额",unit:"元",value:"",description:"医保总消费金额",flag:1},{name:"统筹支付金额",unit:"元",value:"",description:"由医保统筹基金支付的金额",flag:2},{name:"个人支付金额",unit:"元",value:"",description:"患者个人需要支付的金额",flag:4},{name:"医保报销比例",unit:"%",value:"",description:"医保能够报销的比例",flag:8}]),s=()=>{ct(o.value)},a=()=>{o.value.forEach(l=>{l.value=""})};return(l,i)=>(d(),h("div",null,[p(n(x),{inset:"",title:n(t).title},{default:f(()=>[(d(!0),h(b,null,I(o.value,u=>(d(),_(n(Y),{modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,modelModifiers:{number:!0},key:u.name,label:u.name,type:"number",placeholder:u.description},{"right-icon":f(()=>[r("span",null,y(u.unit),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","placeholder"]))),128)),r("div",{class:"clear-data"},[r("a",{onClick:a},"清空数据")]),p(n(S),{style:{"margin-top":"24px"}},{default:f(()=>[p(n(X),{onClick:s,type:"primary",block:""},{default:f(()=>[R("计算")]),_:1})]),_:1})]),_:1},8,["title"]),p(n(x),{inset:"",title:"使用说明"},{default:f(()=>[dt]),_:1})]))}},ft=w(pt,[["__scopeId","data-v-49517c64"]]),mt={},ht=r("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[r("mrow",null,[r("mi",null,"Kt"),r("mo",null,"/"),r("mi",null,"V"),r("mo",null,"="),r("mo",null,"−"),r("mi",null,"ln"),r("mo",null,"("),r("mi",null,"R"),r("mo",null,"−"),r("mn",null,"0.008"),r("mi",null,"t"),r("mo",null,")"),r("mo",null,"+"),r("mo",null,"("),r("mn",null,"4"),r("mo",null,"−"),r("mn",null,"3.5"),r("mi",null,"R"),r("mo",null,")"),r("mo",null,"⋅"),r("mfrac",null,[r("mi",null,"UF"),r("mi",null,"W")])])],-1),_t=[ht];function vt(e,t){return d(),h("div",null,_t)}const gt=w(mt,[["render",vt]]),yt=e=>(B("data-v-ca034c1d"),e=e(),E(),e),wt=yt(()=>r("div",{class:"van-cell"},[r("ul",{class:""},[r("li",null,"Kt/V由尿素清除率（K）、透析时间（t）和尿素分布容积（V）组成，用于量化透析过程中尿素的清除效率。"),r("li",null,"R=透析后BUN或尿素/透析前BUN或尿素"),r("li",null,"URR=1-R"),r("li",null,"超滤体积（UF）=透析前体重-透析后体重"),r("li",null,"计算Kt/V是评估血透有效性的最常用方法。URR>60%且Kt/V>1.2表示血透有效。")])],-1)),kt={__name:"ktvCalcView",setup(e){const t=g();Q(()=>{t.title="血透尿素清除指数(Kt/V)"});const o=U([{name:"透前尿素",unit:"mmol/L",value:null,description:""},{name:"透后尿素",unit:"mmol/L",value:null,description:""},{name:"透前体重",unit:"kg",value:null,description:""},{name:"透后体重(W)",unit:"kg",value:null,description:""},{name:"透析时长(t)",unit:"h",value:4,description:" "}]),s=()=>{if(o.every(a=>a.value!=null&&a.value>0)){let a="";const l=o[1].value/o[0].value,i=(1-l)*100,u=o[2].value-o[3].value,c=o[3].value,m=-Math.log(l-.008*o[4].value),k=(4-3.5*l)*(u/c);console.log(m,k);const L=m+k;L?a=`<div style="font-weight: bold; font-size: 16px; margin-top: 10px;;color:var(--van-text-color);display: flex; flex-direction: column; gap: 10px;">
         
         <div >URR: <span  style='color:var(--van-primary-color);font-weight:bold'>${i.toFixed(0)}% </span></div>
         <div >Kt/V: <span  style='color:var(--van-primary-color);font-weight:bold'>${L.toFixed(2)} </span></div>
          <div >血透充分性: <span  style='color:var(--van-primary-color);font-weight:bold'>${i>60&&L>1.2?"达标":"不达标"} </span></div>       
         </div>
        `:a="计算异常，请检查输入数据",Fe({title:"计算结果",message:a,allowHtml:!0,confirmButtonText:"确定"})}else C("请输入所有数据")};return(a,l)=>(d(),h("div",null,[p(n(x),{inset:"",title:"血液透析尿素清除指数(Kt/V)"},{default:f(()=>[(d(!0),h(b,null,I(o,i=>(d(),_(n(Y),{modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,modelModifiers:{number:!0},key:i.name,label:i.name,type:"number",placeholder:i.description},{"right-icon":f(()=>[r("span",null,y(i.unit),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","placeholder"]))),128)),p(n(S),{style:{"margin-top":"12px"}},{default:f(()=>[p(n(X),{onClick:s,type:"primary",block:""},{default:f(()=>[R("计算")]),_:1})]),_:1})]),_:1}),p(n(x),{inset:"",title:"计算公式"},{default:f(()=>[p(gt,{class:"ktv"})]),_:1}),p(n(x),{inset:"",title:"使用说明"},{default:f(()=>[wt]),_:1})]))}},xt=w(kt,[["__scopeId","data-v-ca034c1d"]]),bt={style:{}},St={__name:"typeEditView",setup(e){const t=g();return t.title="功能暂时关闭",(o,s)=>(d(),h("div",bt," 此功能暂时关闭 "))}},$t={role:"food-card"},It={class:"food-name"},Ct=["title"],Vt={key:0,class:"value"},Ft={style:{color:"var(--van-text-color)","font-weight":"550"}},Tt={id:"unit",style:{"margin-left":"4px"}},Lt={key:1,class:"value null"},Rt={__name:"appFoodCard",props:{food:Object,targetPart:String},setup(e){const t=g(),o=e,s=$(()=>{const a=(u,c)=>{const{danger:m,warning:k,success:L}=c;return u>m?{type:"danger",text:"超高"}:u>k?{type:"warning",text:"高"}:u>L?{type:"success",text:"中"}:{type:"primary",text:"低"}},l={danger:450,warning:300,success:150},i={danger:300,warning:200,success:100};return{k:a(o.food.k,l),p:a(o.food.p,i)}});return(a,l)=>(d(),h("section",$t,[p(n(x),{inset:""},{title:f(()=>[r("h6",It,y(e.food.name),1),e.food.alias?(d(),h("small",{key:0,title:e.food.alias,class:"alias"},y(e.food.alias),9,Ct)):O("",!0)]),default:f(()=>[(d(!0),h(b,null,I(n(t).sortTypes,i=>(d(),_(n(S),{key:i.alias,title:i.text},{value:f(()=>{var u;return[e.food[i.alias]?(d(),h("div",Vt,[i.alias in s.value?(d(),_(n(Te),{key:0,style:{"margin-right":"12px"},size:"medium",type:(u=s.value[i.alias])==null?void 0:u.type},{default:f(()=>{var c;return[R(y((c=s.value[i.alias])==null?void 0:c.text),1)]}),_:2},1032,["type"])):O("",!0),r("span",Ft,y(e.food[i.alias]),1),r("span",Tt,y(i.unit),1)])):(d(),h("div",Lt," - "))]}),_:2},1032,["title"]))),128))]),_:1})]))}},Nt=w(Rt,[["__scopeId","data-v-5c57938a"]]),Ot={__name:"foodIdView",setup(e){const t=V(),o=g();o.title="食物详情";const s=v(null);return T(()=>t.params.id,a=>{o.foods.find(l=>{l.id==a&&(s.value=l,o.title=`食物详情 - ${s.value.name}`)})},{immediate:!0}),(a,l)=>s.value?(d(),_(Nt,{key:0,food:s.value,unit:0},null,8,["food"])):(d(),_(n(F),{key:1,image:"error",description:"食物信息不存在"}))}},oe=e=>(B("data-v-c5e6b8c9"),e=e(),E(),e),Bt=oe(()=>r("i",{style:{display:"inline-flex","align-items":"center","margin-right":"5px"}},[r("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"github",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[r("path",{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"})])],-1)),Et={class:"van-cell talk"},Mt=oe(()=>r("i",null,"此词为AI创作",-1)),Ut={__name:"aboutView",setup(e){const t=g();t.title="About";const o=v(localStorage.getItem("current-build")||"unknown"),s=v([{title:"作者",value:"宋雨轩",icon:"user"},{title:"微信",value:"songyuxuan0226",icon:"wechat"},{title:"版本",value:o,icon:"info"}]),a=v([{title:"《行香子·与诸病友共勉》",value:`银管连躯，血流循线。
任寒温、几度循环。
浮生暂寄，病骨偏安。
但影作朋，光作伴，药为鞍。

涤残未惧，重生何畏？
纵千针、笑对阑干。
命由心造，境自禅观。
但身同铁，志同岳，气同磐。`}]);function l(u,c){navigator.clipboard?navigator.clipboard.writeText(c).then(()=>{P(`${u}复制成功`)}).catch(m=>{console.error("复制失败",m)}):P("复制失败")}function i(){window.open("https://github.com/s87345504/s87345504.github.io")}return(u,c)=>(d(),h("div",null,[p(n(x),{title:"关于",inset:""},{default:f(()=>[(d(!0),h(b,null,I(s.value,m=>(d(),_(n(S),{key:m.value,icon:m.icon,title:m.title,clickable:!0,"is-link":!1,onClick:k=>l(m.title,m.value),value:m.value},null,8,["icon","title","onClick","value"]))),128)),p(n(S),{title:"Github","title-style":"font-weight:600","is-link":"",onClick:i},{icon:f(()=>[Bt]),_:1})]),_:1}),p(n(x),{title:"辅助工具",inset:""},{default:f(()=>[p(n(S),{icon:"gold-coin",title:"医保报销比例计算器","is-link":"",to:"/insuranceCalc"}),p(n(S),{icon:"discount",title:"血透尿素清除指数(Kt/V)","is-link":"",to:"/ktvCalc"})]),_:1}),p(n(x),{title:" ",inset:""},{default:f(()=>[r("div",Et,[r("div",null,y(a.value[0].title),1),r("pre",null,y(a.value[0].value),1),Mt])]),_:1})]))}},qt=w(Ut,[["__scopeId","data-v-c5e6b8c9"]]),ae=ce({history:ue(),routes:[{path:"/",name:"default",component:He},{path:"/query",name:"query",component:nt},{path:"/order",name:"order",component:lt},{path:"/class",name:"class",component:it},{path:"/food/:id",name:"food",component:Ot},{path:"/typeEdit",name:"typeEdit",component:St},{path:"/insuranceCalc",name:"insuranceCalc",component:ft},{path:"/ktvCalc",name:"ktvCalc",component:xt},{path:"/about",name:"about",component:qt},{path:"/404",name:"notFound",component:st},{path:"/:pathMatch(.*)*",redirect:"/404"}]});ae.afterEach((e,t)=>{const o=document.querySelector("#client");o&&(o.scrollTop=0)});const A=de(Je);window.$vc=new fe({theme:localStorage.getItem("theme")=="dark"?"dark":"light",defaultPlugins:["system","network","element","storage"]});window.$vc.hideSwitch();A.use(pe());A.use(ae);A.mount("#app");const J=jt();localStorage.getItem("current-build")!==J&&(console.log("版本更新,清除缓存"),["sortTypes","sortInfo","food-class","food-data"].forEach(t=>{localStorage.removeItem(t)}),localStorage.setItem("current-build",J));function jt(){var e,t;if(location.hostname==="localhost"||location.hostname==="127.0.0.1")try{return(t=(e=window.$vc)==null?void 0:e.showSwitch)==null||t.call(e),localStorage.setItem("wechat_fake","1"),location.port==="5173"?"dev":"雨轩本机专用版"}catch(o){return console.error("开发环境处理出错:",o),"开发版(错误)"}try{const o=document.querySelector('meta[name="build-time"]');return(o==null?void 0:o.getAttribute("content"))||"未知版本"}catch(o){return console.error("获取构建时间出错:",o),"未知版本"}}
